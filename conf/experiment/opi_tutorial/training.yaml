# @package _global_
defaults:
  - /data_module/data_pipeline: rgd1
  - /data_module/representation: cgr
  - /data_module/dataloader_factory: pyg_dataloader
  - /model: dmpnn
  - /routine: regression
  # Parameters computed at runtime from the data which are required for interpolation in lower-level configs
  - /props/num_node_features@props.num_node_features
  - /props/num_edge_features@props.num_edge_features
  - /props/label_mean@props.label_mean
  - /props/label_std@props.label_std
  - _self_

# Configure logging via Weight and Biases
log: true
project_name: chemtorch
group_name: opi_tutorial
run_name: training

# Set random seed
seed: 0

# Specify `fit` to train and validate the model, and `test` to evaluate it on the holdout test set
tasks:
  - fit
  - test

# Override the data source from which to create the training, validation and test sets to the filtered RGD1 dataset
data_pipeline:
  data_source:
    data_path: "../QM_data_precomputed.csv"

# Save model checkpoints
trainer.enable_checkpointing: true
trainer.checkpoint_callback.dirpath: experiment/opi_tutorial/${run_name}/seed_${seed}_${now:%Y-%m-%d_%H-%M-%S}/checkpoints

# Set the maximum number of training iterations
trainer:
  max_epochs: 200